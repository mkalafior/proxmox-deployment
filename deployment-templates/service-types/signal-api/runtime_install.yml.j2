# Signal CLI REST API Runtime Installation
- name: Install Java runtime
  apt:
    name:
      - openjdk-17-jdk
      - openjdk-17-jre
    state: present
  become: true

- name: Install Go runtime
  shell: |
    cd /tmp
    wget https://go.dev/dl/go1.21.0.linux-amd64.tar.gz
    tar -C /usr/local -xzf go1.21.0.linux-amd64.tar.gz
    ln -sf /usr/local/go/bin/go /usr/local/bin/go
  args:
    creates: /usr/local/bin/go
  become: true



- name: Verify Go installation
  shell: /usr/local/go/bin/go version
  register: go_version_check
  changed_when: false

- name: Verify Java installation
  shell: java -version
  register: java_version_check
  changed_when: false

- name: Display installation status
  debug:
    msg: "Installed Go: {{ go_version_check.stdout }}, Java: {{ java_version_check.stderr.split('\n')[0] }}"
